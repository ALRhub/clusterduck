# @package _global_

defaults:
  - override /hydra/launcher: clusterduck_slurm
  - _self_

platform_name: kluster
hydra:
  mode: MULTIRUN
  launcher:
    name: ${hydra.job.name}
    submitit_folder: ${hydra.sweep.dir}/submitit/%j
    timeout_min: 30
    gres: gpu:4
    additional_parameters:
      cpus-per-task: 48  # 1/4 of available CPUs
    exclude: node[4-5]  # e.g. do not allocate on these nodes because the RTX2080 doesn't have enough VRAM

# clusterduck specific options
    parallel_runs_per_node: 4
    total_runs_per_node: 4
    wait_for_completion: False
    resources_config:
      cpu:
      cuda:
      rendering:
