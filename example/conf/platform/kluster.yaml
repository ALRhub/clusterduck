# @package _global_

defaults:
  - override /hydra/launcher: clusterduck_slurm
  - _self_

hydra:
  mode: MULTIRUN  # needed for launcher to be used
  launcher:
    # launcher/cluster specific options
    timeout_min: 5
    gres: gpu:4  # we want all GPUs in a node
    mem_per_cpu: 15000  # in MB (* 8 cores in use = 120GB)
    additional_parameters:
      cpus-per-task: 8  # we want all CPUs in a node

    # clusterduck specific options
    parallel_runs_per_node: 4
    resources_config:
      cpu:
      cuda:
      stagger:
        delay: 5

  # disable logging from job to stdout, as this pollutes slurm output
  job_logging:
    root:
      handlers: [file]
